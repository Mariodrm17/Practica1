<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÄ Tienda de Baloncesto NBA/ACB</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <header>
            <div class="logo">
                <h1>üèÄ <span>Basket</span>Store</h1>
            </div>
            <nav>
                <div id="auth-buttons">
                    <button onclick="showLogin()">Login</button>
                    <button onclick="showRegister()">Registro</button>
                </div>
                <div id="user-menu" style="display: none;">
                    <span id="username-display"></span>
                    <button onclick="showProducts()">Productos</button>
                    <button onclick="showCart()">
                        üõí Carrito 
                        <span id="cart-count" style="display: none;">0</span>
                    </button>
                    <button onclick="showChat()">üí¨ Chat</button>
                    <button onclick="logout()">Logout</button>
                </div>
            </nav>
        </header>

        <main>
            <!-- Formulario de Login -->
            <div id="login-section" class="section">
                <h2>Login</h2>
                <form id="login-form">
                    <input type="email" placeholder="Email" required>
                    <input type="password" placeholder="Password" required>
                    <button type="submit">Entrar</button>
                </form>
            </div>

            <!-- Formulario de Registro -->
            <div id="register-section" class="section" style="display: none;">
                <h2>Registro</h2>
                <form id="register-form">
                    <input type="text" placeholder="Username" required>
                    <input type="email" placeholder="Email" required>
                    <input type="password" placeholder="Password" required>
                    <button type="submit">Registrarse</button>
                </form>
            </div>

            <!-- Lista de Productos -->
            <div id="products-section" class="section" style="display: none;">
                <h2>üèÄ Productos de Baloncesto</h2>
                
                <!-- Filtros -->
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">Todos</button>
                    <button class="filter-btn" data-filter="nba">NBA</button>
                    <button class="filter-btn" data-filter="acb">ACB</button>
                    <button class="filter-btn" data-filter="balls">Balones</button>
                    <button class="filter-btn" data-filter="jerseys">Camisetas</button>
                    <button class="filter-btn" data-filter="shoes">Calzado</button>
                    <button class="filter-btn" data-filter="in-stock">En Stock</button>
                </div>

                <div id="admin-panel" style="display: none;">
                    <h3>Panel de Administrador</h3>
                    <button onclick="showCreateProduct()">‚ûï Crear Producto</button>
                </div>
                <div id="products-list"></div>
            </div>

            <!-- CARRITO DE COMPRAS -->
            <div id="cart-section" class="section" style="display: none;">
                <h2>üõí Tu Carrito de Compras</h2>
                <div id="cart-content">
                    <div id="cart-items"></div>
                    <div id="cart-total" class="cart-total"></div>
                    <div class="cart-actions">
                        <button onclick="app.clearCart()" class="clear-cart-btn">üóëÔ∏è Vaciar Carrito</button>
                        <button onclick="app.checkout()" class="checkout-btn">üí∞ Proceder al Pago</button>
                    </div>
                </div>
            </div>

            <!-- Chat -->
            <div id="chat-section" class="section" style="display: none;">
                <h2>üí¨ Chat en Tiempo Real</h2>
                <div id="chat-container">
                    <div id="messages"></div>
                    <div id="typing-indicator"></div>
                    <form id="message-form">
                        <input type="text" id="message-input" placeholder="Escribe tu mensaje..." required>
                        <button type="submit">Enviar</button>
                    </form>
                </div>
            </div>

            <!-- Crear Producto (Admin) -->
            <div id="create-product-section" class="section" style="display: none;">
                <h2>‚ûï Crear Nuevo Producto</h2>
                <form id="create-product-form">
                    <input type="text" name="name" placeholder="Nombre del producto" required>
                    <textarea name="description" placeholder="Descripci√≥n" required></textarea>
                    <input type="number" name="price" placeholder="Precio" step="0.01" required>
                    <select name="category" required>
                        <option value="">Selecciona categor√≠a</option>
                        <option value="Balones">Balones</option>
                        <option value="Camisetas">Camisetas</option>
                        <option value="Calzado">Calzado</option>
                        <option value="Equipamiento">Equipamiento</option>
                        <option value="Accesorios">Accesorios</option>
                        <option value="Ropa">Ropa</option>
                    </select>
                    <select name="league" required>
                        <option value="">Selecciona liga</option>
                        <option value="NBA">NBA</option>
                        <option value="ACB">ACB</option>
                        <option value="Ambas">Ambas</option>
                    </select>
                    <input type="number" name="stock" placeholder="Stock" required>
                    <input type="text" name="image" placeholder="URL de imagen (opcional)">
                    <button type="submit">Crear Producto</button>
                </form>
            </div>
        </main>
    </div>

    <!-- MODAL PARA A√ëADIR AL CARRITO -->
    <div id="product-modal" class="product-modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modal-product-name"></h2>
            <img id="modal-product-image" src="" alt="">
            <p id="modal-product-description" class="description"></p>
            <div id="modal-product-price" class="price"></div>
            
            <div id="size-selection" class="size-selection" style="display: none;">
                <label for="size-select">Selecciona talla:</label>
                <select id="size-select">
                    <option value="">Selecciona una talla</option>
                </select>
            </div>
            
            <div class="quantity-selection">
                <label for="quantity-select">Cantidad:</label>
                <input type="number" id="quantity-select" min="1" value="1">
            </div>
            
            <div class="modal-actions">
                <button id="add-to-cart-modal-btn" class="add-to-cart-btn">üõí A√±adir al Carrito</button>
                <button class="cancel-btn">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="client.js"></script>
</body>
</html>